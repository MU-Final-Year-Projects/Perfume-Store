{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tamima\\\\181-115-131\\\\client\\\\src\\\\components\\\\mainpages\\\\createProduct\\\\CreateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { GlobalState } from '../../../GlobalState';\nimport Loading from '../utils/loading/Loading';\nimport { useHistory, useParams } from 'react-router-dom';\nimport './CreateProduct.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  product_id: '',\n  title: '',\n  price: 0,\n  description: 'How to .',\n  content: 'Welcome  .',\n  category: '',\n  _id: ''\n};\nexport default function CreateProduct() {\n  _s();\n\n  const state = useContext(GlobalState);\n  const [product, setProduct] = useState(initialState);\n  const [categories] = state.categoriesAPI.categories;\n  const [images, setImages] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [isAdmin] = state.userAPI.isAdmin; // const [token] = state.token\n  // const history = useHistory()\n  // const param = useParams()\n  // const [products] = state.productsAPI.products\n  // const [onEdit, setOnEdit] = useState(false)\n  // const [callback, setCallback] = state.productsAPI.callback\n\n  const handleUpload = async e => {\n    e.preventDefault();\n\n    try {\n      if (!isAdmin) return alert(\"You're not an admin\");\n      const file = e.target.files[0];\n      console.log(file); // if(!file) return alert(\"File not exist.\")\n      // if(file.size > 1024 * 1024) // 1mb\n      //     return alert(\"Size too large!\")\n      // if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\n      //     return alert(\"File format is incorrect.\")\n      // let formData = new FormData()\n      // formData.append('file', file)\n      // setLoading(true)\n      // const res = await axios.post('/api/upload', formData, {\n      //     headers: {'content-type': 'multipart/form-data', Authorization: token}\n      // })\n      // setLoading(false)\n      // setImages(res.data)\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const styleUpload = {\n    display: images ? \"block\" : \"none\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create_product\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        id: \"file_up\",\n        onChange: handleUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"file_img\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateProduct, \"9fzVeb2OLvgmp3XAyPjMOvkvlKs=\");\n\n_c = CreateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateProduct\");","map":{"version":3,"sources":["C:/Users/Tamima/181-115-131/client/src/components/mainpages/createProduct/CreateProduct.js"],"names":["React","useState","useContext","useEffect","axios","GlobalState","Loading","useHistory","useParams","initialState","product_id","title","price","description","content","category","_id","CreateProduct","state","product","setProduct","categories","categoriesAPI","images","setImages","loading","setLoading","isAdmin","userAPI","handleUpload","e","preventDefault","alert","file","target","files","console","log","err","response","data","msg","styleUpload","display"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,OAAO,qBAAP;;AAGA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,UAAU,EAAE,EADK;AAEjBC,EAAAA,KAAK,EAAE,EAFU;AAGjBC,EAAAA,KAAK,EAAE,CAHU;AAIjBC,EAAAA,WAAW,EAAE,UAJI;AAKjBC,EAAAA,OAAO,EAAE,YALQ;AAMjBC,EAAAA,QAAQ,EAAE,EANO;AAOjBC,EAAAA,GAAG,EAAE;AAPY,CAArB;AAWA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AACpC,QAAMC,KAAK,GAAGhB,UAAU,CAACG,WAAD,CAAxB;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAACQ,YAAD,CAAtC;AACA,QAAM,CAACY,UAAD,IAAeH,KAAK,CAACI,aAAN,CAAoBD,UAAzC;AACA,QAAM,CAACE,MAAD,EAASC,SAAT,IAAsBvB,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACwB,OAAD,EAAUC,UAAV,IAAwBzB,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAM,CAAC0B,OAAD,IAAYT,KAAK,CAACU,OAAN,CAAcD,OAAhC,CAPoC,CAQpC;AAEA;AACA;AAEA;AACA;AACA;;AAGA,QAAME,YAAY,GAAG,MAAMC,CAAN,IAAW;AAC5BA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI;AACA,UAAI,CAACJ,OAAL,EAAc,OAAOK,KAAK,CAAC,qBAAD,CAAZ;AACd,YAAMC,IAAI,GAAGH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAHA,CAKA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEH,KAvBD,CAuBE,OAAOK,GAAP,EAAY;AACVN,MAAAA,KAAK,CAACM,GAAG,CAACC,QAAJ,CAAaC,IAAb,CAAkBC,GAAnB,CAAL;AACH;AACJ,GA5BD;;AAgCA,QAAMC,WAAW,GAAG;AAChBC,IAAAA,OAAO,EAAEpB,MAAM,GAAG,OAAH,GAAa;AADZ,GAApB;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,EAAE,EAAC,SAAlC;AAA4C,QAAA,QAAQ,EAAEM;AAAtD;AAAA;AAAA;AAAA;AAAA,cADJ,eAUI;AAAK,QAAA,EAAE,EAAC,UAAR;AAAA,gCACI;AAAK,UAAA,GAAG,EAAC,EAAT;AAAY,UAAA,GAAG,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAqBH;;GA5EuBZ,a;;KAAAA,a","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { GlobalState } from '../../../GlobalState'\r\nimport Loading from '../utils/loading/Loading'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport './CreateProduct.css'\r\n\r\n\r\nconst initialState = {\r\n    product_id: '',\r\n    title: '',\r\n    price: 0,\r\n    description: 'How to .',\r\n    content: 'Welcome  .',\r\n    category: '',\r\n    _id: ''\r\n}\r\n\r\n\r\nexport default function CreateProduct() {\r\n    const state = useContext(GlobalState)\r\n    const [product, setProduct] = useState(initialState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [images, setImages] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    // const [token] = state.token\r\n\r\n    // const history = useHistory()\r\n    // const param = useParams()\r\n\r\n    // const [products] = state.productsAPI.products\r\n    // const [onEdit, setOnEdit] = useState(false)\r\n    // const [callback, setCallback] = state.productsAPI.callback\r\n\r\n\r\n    const handleUpload = async e => {\r\n        e.preventDefault()\r\n        try {\r\n            if (!isAdmin) return alert(\"You're not an admin\")\r\n            const file = e.target.files[0]\r\n            console.log(file)\r\n\r\n            // if(!file) return alert(\"File not exist.\")\r\n\r\n            // if(file.size > 1024 * 1024) // 1mb\r\n            //     return alert(\"Size too large!\")\r\n\r\n            // if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\r\n            //     return alert(\"File format is incorrect.\")\r\n\r\n            // let formData = new FormData()\r\n            // formData.append('file', file)\r\n\r\n            // setLoading(true)\r\n            // const res = await axios.post('/api/upload', formData, {\r\n            //     headers: {'content-type': 'multipart/form-data', Authorization: token}\r\n            // })\r\n            // setLoading(false)\r\n            // setImages(res.data)\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const styleUpload = {\r\n        display: images ? \"block\" : \"none\"\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"create_product\">\r\n            <div className=\"upload\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload} />\r\n                {/* {\r\n                    loading ? <div id=\"file_img\"><Loading /></div>\r\n\r\n                    :<div id=\"file_img\" style={styleUpload}>\r\n                        <img src={images ? images.url : ''} alt=\"\"/>\r\n                        <span onClick={handleDestroy}>X</span>\r\n                    </div>\r\n                } */}\r\n                <div id=\"file_img\">\r\n                    <img src=\"\" alt=\"\" />\r\n                    <span>X</span>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}